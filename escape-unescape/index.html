<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Escape Unescape Tool Online - URL, HTML, JSON, JavaScript | Free Text Convert</title>
    <meta name="description" content="Escape and unescape text online instantly. URL encode/decode, HTML entities, JSON strings, JavaScript escape, Base64. Free escape unescape tool for developers.">
    <link rel="canonical" href="https://freetextconvert.com/escape-unescape">
    
    <!-- Icons -->
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .tagline {
            color: #666;
            font-size: 18px;
        }
        
        .tool-container {
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .tool-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .tool-header h2 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .format-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .format-btn {
            padding: 12px 24px;
            border: 2px solid #3498db;
            background: white;
            color: #3498db;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .format-btn.active {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        }
        
        .format-btn:hover {
            background: #3498db;
            color: white;
            transform: translateY(-2px);
        }
        
        .operation-toggle {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            gap: 0;
        }
        
        .operation-btn {
            padding: 10px 30px;
            border: 2px solid #27ae60;
            background: white;
            color: #27ae60;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .operation-btn:first-child {
            border-radius: 30px 0 0 30px;
            border-right: none;
        }
        
        .operation-btn:last-child {
            border-radius: 0 30px 30px 0;
        }
        
        .operation-btn.active {
            background: #27ae60;
            color: white;
        }
        
        .io-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .io-container {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .output-section {
            display: flex;
            flex-direction: column;
        }
        
        textarea {
            width: 100%;
            min-height: 300px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            resize: vertical;
            transition: border-color 0.3s;
        }
        
        textarea:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .section-label {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .char-count {
            font-weight: normal;
            font-size: 14px;
            color: #7f8c8d;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .btn-primary {
            background: #3498db;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #27ae60;
            color: white;
        }
        
        .btn-secondary:hover {
            background: #229954;
            transform: translateY(-2px);
        }
        
        .btn-warning {
            background: #e74c3c;
            color: white;
        }
        
        .btn-warning:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }
        
        .format-info {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }
        
        .format-info h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .format-info p {
            margin-bottom: 10px;
            color: #555;
        }
        
        .format-info code {
            background: #fff;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            color: #e74c3c;
        }
        
        .examples {
            margin-top: 30px;
        }
        
        .example-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .example-btn {
            padding: 8px 16px;
            background: #95a5a6;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        
        .example-btn:hover {
            background: #7f8c8d;
            transform: translateY(-2px);
        }
        
        .pro-tips {
            background: #fffef7;
            border: 2px solid #f1c40f;
            border-radius: 8px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .pro-tips h3 {
            color: #f39c12;
            margin-bottom: 15px;
        }
        
        .pro-tips ul {
            list-style: none;
            padding-left: 0;
        }
        
        .pro-tips li {
            padding: 8px 0;
            padding-left: 25px;
            position: relative;
        }
        
        .pro-tips li:before {
            content: "💡";
            position: absolute;
            left: 0;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            padding: 20px;
            color: #666;
        }
        
        nav {
            margin-bottom: 20px;
        }
        
        nav a {
            color: #3498db;
            text-decoration: none;
            margin: 0 15px;
        }
        
        nav a:hover {
            text-decoration: underline;
        }
        
        .related-tools {
            margin-top: 40px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .related-tools h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .related-tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
        }
        
        .related-tool {
            padding: 10px;
            background: white;
            border-radius: 5px;
            text-align: center;
            transition: all 0.3s;
        }
        
        .related-tool:hover {
            transform: translateY(-2px);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .related-tool a {
            color: #3498db;
            text-decoration: none;
            font-weight: 500;
        }
        
        .reference-table {
            margin-top: 20px;
            overflow-x: auto;
        }
        
        .reference-table table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .reference-table th {
            background: #34495e;
            color: white;
            padding: 12px;
            text-align: left;
        }
        
        .reference-table td {
            padding: 10px 12px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .reference-table tr:hover {
            background: #f8f9fa;
        }
        
        .reference-table code {
            background: #ecf0f1;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }
    </style>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-792NQ00CEV"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-792NQ00CEV');
    </script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Free Text Convert</h1>
            <p class="tagline">Simple, fast, and free text transformation tools</p>
            <nav>
                <a href="/">Home</a>
                <a href="/tools">All Tools</a>
                <a href="/blog">Blog</a>
                <a href="/data-cleaning-suite">Data Cleaning Suite</a>
            </nav>
        </header>

        <div class="tool-container">
            <div class="tool-header">
                <h2>Escape/Unescape Tool</h2>
                <p>Encode and decode text for URLs, HTML, JSON, JavaScript, and Base64</p>
            </div>

            <div class="format-selector">
                <button class="format-btn active" onclick="selectFormat('url')">URL</button>
                <button class="format-btn" onclick="selectFormat('html')">HTML</button>
                <button class="format-btn" onclick="selectFormat('json')">JSON</button>
                <button class="format-btn" onclick="selectFormat('javascript')">JavaScript</button>
                <button class="format-btn" onclick="selectFormat('base64')">Base64</button>
            </div>

            <div class="operation-toggle">
                <button class="operation-btn active" onclick="setOperation('escape')">Escape →</button>
                <button class="operation-btn" onclick="setOperation('unescape')">← Unescape</button>
            </div>

            <div class="format-info" id="formatInfo">
                <h3>URL Encoding</h3>
                <p>Converts special characters to percent-encoded format for safe URL transmission.</p>
                <p><strong>Example:</strong> <code>hello world</code> → <code>hello%20world</code></p>
            </div>

            <div class="io-container">
                <div class="input-section">
                    <div class="section-label">
                        <span id="inputLabel">Input (Plain Text)</span>
                        <span class="char-count" id="inputCount">0 characters</span>
                    </div>
                    <textarea id="input" placeholder="Enter text to escape..."></textarea>
                </div>
                
                <div class="output-section">
                    <div class="section-label">
                        <span id="outputLabel">Output (URL Encoded)</span>
                        <span class="char-count" id="outputCount">0 characters</span>
                    </div>
                    <textarea id="output" placeholder="Escaped text will appear here..." readonly></textarea>
                </div>
            </div>

            <div class="action-buttons">
                <button class="btn btn-primary" onclick="processText()">🔄 Convert</button>
                <button class="btn btn-secondary" onclick="copyOutput()">📋 Copy Result</button>
                <button class="btn btn-secondary" onclick="swapText()">↔️ Swap</button>
                <button class="btn btn-warning" onclick="clearAll()">🗑️ Clear All</button>
            </div>

            <div class="examples">
                <h3>📝 Try with examples:</h3>
                <div class="example-buttons">
                    <button class="example-btn" onclick="loadExample('url')">URL Example</button>
                    <button class="example-btn" onclick="loadExample('html')">HTML Example</button>
                    <button class="example-btn" onclick="loadExample('json')">JSON Example</button>
                    <button class="example-btn" onclick="loadExample('javascript')">JS Example</button>
                </div>
            </div>

            <div class="reference-table" id="referenceTable" style="display: none;">
                <h3>Common Escape Sequences</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Character</th>
                            <th>Description</th>
                            <th>Escaped</th>
                        </tr>
                    </thead>
                    <tbody id="referenceBody">
                        <!-- Populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <div class="pro-tips">
                <h3>Pro Tips</h3>
                <ul>
                    <li>URL Encoding: Essential for query parameters and form data</li>
                    <li>HTML Entities: Prevent XSS attacks by escaping user input</li>
                    <li>JSON Strings: Escape quotes and backslashes for valid JSON</li>
                    <li>JavaScript: Escape strings for safe inclusion in JS code</li>
                    <li>Base64: Not technically escaping, but encoding binary data as text</li>
                </ul>
            </div>

            <div class="related-tools">
                <h3>🔧 Related Tools You Might Like</h3>
                <div class="related-tools-grid">
                    <div class="related-tool">
                        <a href="/json-formatter">JSON Formatter</a>
                    </div>
                    <div class="related-tool">
                        <a href="/html-stripper">HTML Tag Stripper</a>
                    </div>
                    <div class="related-tool">
                        <a href="/text-to-binary-hex">Text to Binary/Hex</a>
                    </div>
                    <div class="related-tool">
                        <a href="/whitespace-normalizer">Whitespace Normalizer</a>
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <p style="margin-bottom: 15px;">
                <a href="/privacy-policy" style="color: #3498db; margin-right: 20px;">Privacy Policy</a>
                <a href="/terms-of-service" style="color: #3498db; margin-right: 20px;">Terms of Service</a>
                <a href="/affiliate-disclosure" style="color: #3498db;">Affiliate Disclosure</a>
            </p>
            
            <!-- Donation Section -->
            <div style="background: #f8f9fa; padding: 30px 20px; margin: 40px auto 20px; max-width: 600px; border-radius: 15px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
                <h3 style="margin-bottom: 15px; color: #2c3e50;">☕ Love these free tools?</h3>
                <p style="margin-bottom: 20px; color: #555; line-height: 1.6;">
                    Hi! I'm Cino, solo developer of Free Text Convert. 
                    I'm building these tools to help writers and developers save time.
                    Your support keeps them <strong>free</strong> and <strong>ad-free</strong> forever!
                </p>
                <a href="https://buymeacoffee.com/cinophan" 
                   target="_blank" 
                   rel="noopener"
                   style="background: #FFDD00; 
                          color: #000000; 
                          padding: 14px 35px; 
                          border-radius: 30px; 
                          text-decoration: none; 
                          font-weight: bold; 
                          display: inline-block; 
                          transition: all 0.3s; 
                          font-size: 16px;
                          box-shadow: 0 4px 15px rgba(255, 221, 0, 0.3);"
                   onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 20px rgba(255, 221, 0, 0.4)';"
                   onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 15px rgba(255, 221, 0, 0.3)';">
                    <span style="font-size: 20px; vertical-align: middle;">☕</span> Buy me a coffee
                </a>
                <p style="margin-top: 20px; font-size: 13px; color: #999;">
                    Even $3 helps me dedicate more time to building tools you need! 🙏
                </p>
            </div>
            
            <p>&copy; 2025 FreeTextConvert.com - Building helpful tools one day at a time</p>
        </footer>
    </div>

    <script>
        let currentFormat = 'url';
        let currentOperation = 'escape';
        
        const formatInfo = {
            url: {
                name: 'URL Encoding',
                description: 'Converts special characters to percent-encoded format for safe URL transmission.',
                example: 'hello world → hello%20world',
                inputPlaceholder: 'Enter text to URL encode...',
                outputPlaceholder: 'URL encoded text will appear here...',
                escapeLabel: 'URL Encoded',
                unescapeLabel: 'URL Decoded'
            },
            html: {
                name: 'HTML Entities',
                description: 'Converts special characters to HTML entities to prevent rendering as HTML.',
                example: '<div> → &lt;div&gt;',
                inputPlaceholder: 'Enter text with HTML characters...',
                outputPlaceholder: 'HTML entities will appear here...',
                escapeLabel: 'HTML Entities',
                unescapeLabel: 'Plain Text'
            },
            json: {
                name: 'JSON String Escape',
                description: 'Escapes special characters for valid JSON string values.',
                example: '"Hello" → \\"Hello\\"',
                inputPlaceholder: 'Enter text to escape for JSON...',
                outputPlaceholder: 'JSON escaped text will appear here...',
                escapeLabel: 'JSON Escaped',
                unescapeLabel: 'Plain Text'
            },
            javascript: {
                name: 'JavaScript String Escape',
                description: 'Escapes special characters for JavaScript string literals.',
                example: "Line 1\\nLine 2 → Line 1\\\\nLine 2",
                inputPlaceholder: 'Enter text to escape for JavaScript...',
                outputPlaceholder: 'JavaScript escaped text will appear here...',
                escapeLabel: 'JS Escaped',
                unescapeLabel: 'Plain Text'
            },
            base64: {
                name: 'Base64 Encoding',
                description: 'Encodes text or binary data into Base64 format for safe transmission.',
                example: 'Hello → SGVsbG8=',
                inputPlaceholder: 'Enter text to encode as Base64...',
                outputPlaceholder: 'Base64 encoded text will appear here...',
                escapeLabel: 'Base64 Encoded',
                unescapeLabel: 'Decoded Text'
            }
        };
        
        const referenceData = {
            url: [
                {char: ' ', desc: 'Space', escaped: '%20'},
                {char: '!', desc: 'Exclamation', escaped: '%21'},
                {char: '#', desc: 'Hash', escaped: '%23'},
                {char: '$', desc: 'Dollar', escaped: '%24'},
                {char: '&', desc: 'Ampersand', escaped: '%26'},
                {char: '+', desc: 'Plus', escaped: '%2B'},
                {char: '/', desc: 'Slash', escaped: '%2F'},
                {char: '?', desc: 'Question', escaped: '%3F'},
                {char: '=', desc: 'Equals', escaped: '%3D'}
            ],
            html: [
                {char: '<', desc: 'Less than', escaped: '&lt;'},
                {char: '>', desc: 'Greater than', escaped: '&gt;'},
                {char: '&', desc: 'Ampersand', escaped: '&amp;'},
                {char: '"', desc: 'Double quote', escaped: '&quot;'},
                {char: "'", desc: 'Single quote', escaped: '&#39;'},
                {char: '/', desc: 'Slash', escaped: '&#x2F;'}
            ],
            json: [
                {char: '"', desc: 'Double quote', escaped: '\\"'},
                {char: '\\', desc: 'Backslash', escaped: '\\\\'},
                {char: '\n', desc: 'Newline', escaped: '\\n'},
                {char: '\r', desc: 'Carriage return', escaped: '\\r'},
                {char: '\t', desc: 'Tab', escaped: '\\t'}
            ],
            javascript: [
                {char: "'", desc: 'Single quote', escaped: "\\'"},
                {char: '"', desc: 'Double quote', escaped: '\\"'},
                {char: '\\', desc: 'Backslash', escaped: '\\\\'},
                {char: '\n', desc: 'Newline', escaped: '\\n'},
                {char: '\r', desc: 'Carriage return', escaped: '\\r'},
                {char: '\t', desc: 'Tab', escaped: '\\t'}
            ]
        };
        
        function selectFormat(format) {
            currentFormat = format;
            document.querySelectorAll('.format-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateUI();
            updateReferenceTable();
            processText();
        }
        
        function setOperation(operation) {
            currentOperation = operation;
            document.querySelectorAll('.operation-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
            
            updateUI();
            processText();
        }
        
        function updateUI() {
            const info = formatInfo[currentFormat];
            document.getElementById('formatInfo').innerHTML = `
                <h3>${info.name}</h3>
                <p>${info.description}</p>
                <p><strong>Example:</strong> <code>${info.example}</code></p>
            `;
            
            const input = document.getElementById('input');
            const output = document.getElementById('output');
            
            if (currentOperation === 'escape') {
                input.placeholder = info.inputPlaceholder;
                output.placeholder = info.outputPlaceholder;
                document.getElementById('inputLabel').textContent = 'Input (Plain Text)';
                document.getElementById('outputLabel').textContent = `Output (${info.escapeLabel})`;
            } else {
                input.placeholder = info.outputPlaceholder.replace('will appear here', 'to decode');
                output.placeholder = 'Decoded text will appear here...';
                document.getElementById('inputLabel').textContent = `Input (${info.escapeLabel})`;
                document.getElementById('outputLabel').textContent = 'Output (Plain Text)';
            }
        }
        
        function updateReferenceTable() {
            const table = document.getElementById('referenceTable');
            const body = document.getElementById('referenceBody');
            
            if (currentFormat === 'base64') {
                table.style.display = 'none';
                return;
            }
            
            table.style.display = 'block';
            body.innerHTML = '';
            
            const data = referenceData[currentFormat] || [];
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td><code>${item.char === '\n' ? '\\n' : item.char === '\r' ? '\\r' : item.char === '\t' ? '\\t' : item.char}</code></td>
                    <td>${item.desc}</td>
                    <td><code>${item.escaped}</code></td>
                `;
                body.appendChild(row);
            });
        }
        
        function processText() {
            const input = document.getElementById('input').value;
            let output = '';
            
            try {
                if (currentOperation === 'escape') {
                    output = escapeText(input, currentFormat);
                } else {
                    output = unescapeText(input, currentFormat);
                }
            } catch (e) {
                output = 'Error: ' + e.message;
            }
            
            document.getElementById('output').value = output;
            updateCharCounts();
        }
        
        function escapeText(text, format) {
            switch(format) {
                case 'url':
                    return encodeURIComponent(text);
                
                case 'html':
                    return text
                        .replace(/&/g, '&amp;')
                        .replace(/</g, '&lt;')
                        .replace(/>/g, '&gt;')
                        .replace(/"/g, '&quot;')
                        .replace(/'/g, '&#39;')
                        .replace(/\//g, '&#x2F;');
                
                case 'json':
                    return text
                        .replace(/\\/g, '\\\\')
                        .replace(/"/g, '\\"')
                        .replace(/\n/g, '\\n')
                        .replace(/\r/g, '\\r')
                        .replace(/\t/g, '\\t')
                        .replace(/\f/g, '\\f')
                        .replace(/\b/g, '\\b');
                
                case 'javascript':
                    return text
                        .replace(/\\/g, '\\\\')
                        .replace(/'/g, "\\'")
                        .replace(/"/g, '\\"')
                        .replace(/\n/g, '\\n')
                        .replace(/\r/g, '\\r')
                        .replace(/\t/g, '\\t')
                        .replace(/\f/g, '\\f')
                        .replace(/\b/g, '\\b')
                        .replace(/\v/g, '\\v');
                
                case 'base64':
                    return btoa(unescape(encodeURIComponent(text)));
                
                default:
                    return text;
            }
        }
        
        function unescapeText(text, format) {
            switch(format) {
                case 'url':
                    return decodeURIComponent(text);
                
                case 'html':
                    const textarea = document.createElement('textarea');
                    textarea.innerHTML = text;
                    return textarea.value;
                
                case 'json':
                    // Remove surrounding quotes if present
                    if (text.startsWith('"') && text.endsWith('"')) {
                        text = text.slice(1, -1);
                    }
                    return text
                        .replace(/\\"/g, '"')
                        .replace(/\\\\/g, '\\')
                        .replace(/\\n/g, '\n')
                        .replace(/\\r/g, '\r')
                        .replace(/\\t/g, '\t')
                        .replace(/\\f/g, '\f')
                        .replace(/\\b/g, '\b');
                
                case 'javascript':
                    return text
                        .replace(/\\'/g, "'")
                        .replace(/\\"/g, '"')
                        .replace(/\\\\/g, '\\')
                        .replace(/\\n/g, '\n')
                        .replace(/\\r/g, '\r')
                        .replace(/\\t/g, '\t')
                        .replace(/\\f/g, '\f')
                        .replace(/\\b/g, '\b')
                        .replace(/\\v/g, '\v');
                
                case 'base64':
                    return decodeURIComponent(escape(atob(text)));
                
                default:
                    return text;
            }
        }
        
        function updateCharCounts() {
            const input = document.getElementById('input').value;
            const output = document.getElementById('output').value;
            
            document.getElementById('inputCount').textContent = `${input.length} characters`;
            document.getElementById('outputCount').textContent = `${output.length} characters`;
        }
        
        function copyOutput() {
            const output = document.getElementById('output');
            output.select();
            document.execCommand('copy');
            
            // Visual feedback
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = '✅ Copied!';
            setTimeout(() => {
                btn.textContent = originalText;
            }, 2000);
        }
        
        function swapText() {
            const input = document.getElementById('input');
            const output = document.getElementById('output');
            
            const temp = input.value;
            input.value = output.value;
            output.value = temp;
            
            // Toggle operation
            if (currentOperation === 'escape') {
                setOperation('unescape');
            } else {
                setOperation('escape');
            }
            
            updateCharCounts();
        }
        
        function clearAll() {
            if (confirm('Clear all text? This cannot be undone.')) {
                document.getElementById('input').value = '';
                document.getElementById('output').value = '';
                updateCharCounts();
            }
        }
        
        function loadExample(type) {
            const examples = {
                url: {
                    text: 'Hello World! Special chars: ?&=+#',
                    operation: 'escape'
                },
                html: {
                    text: '<div class="example">Hello & Welcome!</div>',
                    operation: 'escape'
                },
                json: {
                    text: 'Line 1\nLine 2\n"Quoted text" with \\backslash',
                    operation: 'escape'
                },
                javascript: {
                    text: "Alert('Hello!');\nConsole.log(\"Test\");",
                    operation: 'escape'
                }
            };
            
            if (type !== currentFormat) {
                // Switch to the appropriate format
                document.querySelectorAll('.format-btn').forEach(btn => {
                    if (btn.textContent.toLowerCase() === type || 
                        (type === 'javascript' && btn.textContent === 'JavaScript')) {
                        btn.click();
                    }
                });
            }
            
            const example = examples[type];
            if (example) {
                document.getElementById('input').value = example.text;
                if (currentOperation !== example.operation) {
                    setOperation(example.operation);
                }
                processText();
            }
        }
        
        // Event listeners
        document.getElementById('input').addEventListener('input', () => {
            processText();
        });
        
        // Initialize
        updateUI();
        updateReferenceTable();
        
        // Auto-process if there's text in input on load
        if (document.getElementById('input').value) {
            processText();
        }
    </script>
</body>
</html>